<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>{{ quiz_set.title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <header>
            <h2>{{ quiz_set.title }}</h2>
            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
        </header>

        <form action="/submit" method="POST">
            <input type="hidden" name="set_id" value="{{ quiz_set.set_id }}">

            {% for item in quiz_set['items'] %}
            <div class="question-block">
                <p style="font-weight: bold; font-size: 1.1rem;">{{ loop.index }}. {{ item.q }}</p>
                {% for option in item.options %}
                <label class="option-label">
                    <input type="radio" name="q_{{ item.id }}" value="{{ option[0] }}" required>
                    {{ option }}
                </label>
                {% endfor %}
            </div>
            {% endfor %}

            <div style="text-align: center; margin-top: 40px;">
                <button type="submit" class="btn-start"
                    style="font-size: 1.2rem; padding: 15px 60px;">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            </div>
        </form>
    </div>
    <div class="color-picker-ui">
        <label for="bg-choice">üé® ‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏ó‡∏ô‡∏™‡∏µ‡πÄ‡∏ß‡πá‡∏ö:</label>
        <input type="color" id="bg-choice" value="#f8fafc" title="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏≤">
    </div>

    <script>
        // ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡∏à‡∏î‡∏à‡∏≥‡∏Ñ‡πà‡∏≤
        const bgInput = document.getElementById('bg-choice');

        // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏µ‡∏à‡∏≤‡∏Å LocalStorage
        const savedTheme = localStorage.getItem('userTheme');
        if (savedTheme) {
            document.body.style.backgroundColor = savedTheme;
            bgInput.value = savedTheme;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÅ‡∏ö‡∏ö Real-time
        bgInput.addEventListener('input', (e) => {
            const color = e.target.value;
            document.body.style.backgroundColor = color;
            localStorage.setItem('userTheme', color);
        });
    </script>
</body>

</html>